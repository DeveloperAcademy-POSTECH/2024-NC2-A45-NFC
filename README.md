# 2024-NC2-A45-NFC
##### í•´í”¼ì™€ ì§€ì§€ê°€ ë§Œë“  18ë™ ìƒí™œê´€ì˜ ìŠ¬ê¸°ë¡œìš´ ì„¸íƒìƒí™œì„ ìœ„í•œ NFC í™œìš© íƒ€ì´ë¨¸ ì„¤ì • ì•±, ë -ë”•ë¹¨ë˜  

## ğŸ¥ Youtube Link
(ì¶”í›„ ë§Œë“¤ì–´ì§„ ìœ íŠœë¸Œ ë§í¬ ì¶”ê°€) 

## ğŸ’³ NFCë€?
> **Near Field Communication, ê·¼ê±°ë¦¬ ë¬´ì„  í†µì‹  ê¸°ìˆ **
* ì§§ì€ ê±°ë¦¬(ì•½ 4cm ì´ë‚´)ì—ì„œ ë¬´ì„  ì‹ í˜¸ë¥¼ í†µí•´ ì¥ì¹˜ ê°„ ë°ì´í„°ë¥¼ ì „ì†¡í•˜ëŠ” ê¸°ìˆ 
* ì•± ë‚´ íƒœê·¸ ì½ê¸° / ë°±ê·¸ë¼ìš´ë“œ íƒœê·¸ ì½ê¸°ë¥¼ ì§€ì›
* ë¹„ì ‘ì´‰ ê²°ì œ, ì „ì í‹°ì¼“, ë””ì§€í„¸ ì‹ ë¶„ì¦ ë° ì •ë³´ êµí™˜ì— ì‚¬ìš©  

### Core NFC
> **iOS 11 ì´í›„ ë²„ì „ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•˜ë©° iOS ë° iPadOS ì¥ì¹˜ì—ì„œ ê·¼ê±°ë¦¬ ë¬´ì„  í†µì‹ (NFC) ê¸°ëŠ¥ì„ í™œìš©í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” í”„ë ˆì„ì›Œí¬**

## ğŸ¯ What we focus on?
* í˜„ì¬ ë°°ì¹˜ëœ ê¸°ìˆ™ì‚¬ ì„¸íƒê¸°ì™€ ì§ì ‘ì ì¸ NFC ì—°ë™ì´ ë¶ˆê°€ëŠ¥ í•˜ë‹ˆ, ì™¸ë¶€ í•˜ë“œì›¨ì–´(Tag Sticker)ì™€ ìŠ¤ë§ˆíŠ¸í° ê°„ì˜ ë°ì´í„° êµí™˜ì„ í•´ë³´ì!
* ë°±ê·¸ë¼ìš´ë“œ íƒœê·¸ ì½ê¸° ë§ê³  ì•± ë‚´ íƒœê·¸ ì½ê¸°ë¡œ êµ¬í˜„í•˜ì!
* **ì œë°œ NFC íƒœê·¸ë¼ë„ í•´ë³´ì!**

## ğŸ’¼ Use Case
![Group 30](https://github.com/DeveloperAcademy-POSTECH/2024-NC2-A45-NFC/assets/126846444/496455c5-0877-4d38-8d6a-921485269034)
> **18ë™ ìƒí™œê´€ ì‚¬ìƒë“¤ì˜ ì„¸íƒê¸°ê¸° ì´ìš©ì˜ ë¶ˆí¸í•¨ì„ ì¤„ì—¬ì£¼ì!**

## ğŸ–¼ï¸ Prototype
<img width="729" alt="image" src="https://github.com/DeveloperAcademy-POSTECH/2024-NC2-A45-NFC/assets/126846444/0e639b7c-ad3e-47cf-bd83-3bdc95d88f79">
1ï¸âƒ£Â 18ë™ ìƒí™œê´€ ë‚´ ì„¸íƒì‹¤ì„ ë‚¨ìì¸µê³¼ ì—¬ìì¸µì„ êµ¬ë¶„í•´ ë³´ì—¬ì¤Œ  
2ï¸âƒ£Â ì‚¬ìš©í•˜ë ¤ëŠ” ì„¸íƒê¸°ê¸°ë¥¼ ì„ íƒ í›„ íƒ€ì´ë¨¸ ì„¤ì •í•˜ê¸° ë²„íŠ¼ì„ ëˆŒëŸ¬ íƒœê·¸ â†’ ìŠ¤ìº”ì´ ë˜ë©´ 47ë¶„(ì„¸íƒê¸°) íƒ€ì´ë¨¸ê°€ ì„¤ì •ë¨  
3ï¸âƒ£Â íƒ€ì´ë¨¸ -1ë¶„/+1ë¶„ ë²„íŠ¼ì„ í†µí•´ ì„¬ì„¸í•œ ì‹œê°„ ì¡°ì •  
4ï¸âƒ£Â ê²½í—˜ìƒ ë¹¨ë˜ê°€ ëë‚˜ë©´ ë¯¸ë¦¬ ë‚´ë ¤ì™€ìˆë„ë¡ ì¢…ë£Œ ì‹œê°„ë³´ë‹¤ ì¼ì° ì•ŒëŒì„ ë§ì¶”ê±°ë‚˜(-1ë¶„) NFC íƒœê·¸ë¥¼ ë¯¸ë¦¬í•œ ê²½ìš°(+1ë¶„) ë‘ ê°€ì§€ë¥¼ ê³ ë ¤í•¨  
* ì‹œì—°ì„ ìœ„í•´ -1ë¶„ì˜ ê¸°ëŠ¥ì„ -10ë¶„ì´ ë˜ë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.
5ï¸âƒ£Â ì„¸íƒ ê¸°ê¸°ì˜ ì‹œê°„ì´ ëë‚˜ë©´ ì¢…ë£Œ ì•Œë¦¼(Notification)ê³¼ í•¨ê»˜, ì„¸íƒ ì™„ë£Œ ë·°ë¥¼ ë³´ì—¬ì¤Œ  
6ï¸âƒ£Â ë‹¤ì‹œ ë©”ì¸ í™”ë©´ìœ¼ë¡œ ëŒì•„ê°€ë©´ í™”ë©´ì´ ë¦¬ì…‹ë¨  


## ğŸ› ï¸ About Code
>ë·°ì—ì„œ NFC Reader ì„¸ì…˜ í™œì„±í™” ë° íƒœê·¸ ê°ì§€ ì½”ë“œ  
**NFCManager : NFC íƒœê·¸ ë¦¬ë”© ë° ë¦¬ë”©í•œ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ íŠ¹ì • ê¸°ê¸°ë¥¼ ì‹ë³„í•´ íƒ€ì´ë¨¸ ì‹œì‘**
â€˜import CoreNFC

// NFC íƒœê·¸ ì„¸ì…˜ ì‹œì‘
func startNFCTagging() {
    let session = NFCTagReaderSession(pollingOption: .iso14443, delegate: NFCManager.shared)
    session?.alertMessage = "ì„¸íƒê¸° ë° ê±´ì¡°ê¸° ì˜† ìŠ¤í‹°ì»¤ë¥¼ ìŠ¤ìº”í•˜ì‹­ì‹œì˜¤."
    session?.begin()
}

// NFC íƒœê·¸ ì¸ì‹ ë° ë°ì´í„° ì½ê¸°
final class NFCManager: NSObject, NFCTagReaderSessionDelegate {
    static let shared = NFCManager()
    
    func tagReaderSession(_ session: NFCTagReaderSession, didDetect tags: [NFCTag]) {
          guard let firstTag = tags.first else { return }
          
          session.connect(to: firstTag) { error in
              if let error = error {
                  session.invalidate(errorMessage: "Connection failed: \(error.localizedDescription)")
                  return
              }
              
              let deviceIdentifier = self.identifyDevice(from: firstTag)
              
              session.alertMessage = "ì‹œê°„ì´ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤."
              session.invalidate()
              
              DispatchQueue.main.async {
                  // ê¸°ê¸° ì •ë³´ ì „ë‹¬
                  NotificationCenter.default.post(name: NSNotification.Name("StartTimer"), object: nil, userInfo: ["device": deviceIdentifier])
              }
          }
      }
    
    func identifyDevice(from tag: NFCTag) -> String {
        return "ì„¸íƒê¸°" // or "ê±´ì¡°ê¸°"
    }
    
    func tagReaderSessionDidBecomeActive(_ session: NFCTagReaderSession) {
        // ì„¸ì…˜ì´ í™œì„±í™”ë˜ì—ˆìŠµë‹ˆë‹¤.
    }
    
    func tagReaderSession(_ session: NFCTagReaderSession, didInvalidateWithError error: Error) {
        // ì„¸ì…˜ì´ ì˜¤ë¥˜ë¡œ ì¸í•´ ë¬´íš¨í™”ë˜ì—ˆìŠµë‹ˆë‹¤.
        if let readerError = error as? NFCReaderError, readerError.code != .readerSessionInvalidationErrorFirstNDEFTagRead {
            print("NFC Reader Session ì˜¤ë¥˜: \(error.localizedDescription)")
        }
    }
}
â€™
